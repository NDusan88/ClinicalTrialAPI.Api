2024-12-18 03:44:08.292 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 03:44:08.374 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 03:44:08.591 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 03:44:08.594 +01:00 [INF] Hosting environment: Development
2024-12-18 03:44:08.597 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 03:44:08.681 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 03:44:08.759 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:44:08.850 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:56:42.323 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 03:56:42.391 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 03:56:42.776 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 03:56:42.778 +01:00 [INF] Hosting environment: Development
2024-12-18 03:56:42.780 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 03:56:44.639 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 03:56:44.692 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:44.725 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:56:45.211 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:56:46.629 +01:00 [ERR] Failed executing DbCommand (94ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 03:56:46.678 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 03:56:47.038 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 2307.5524ms
2024-12-18 03:56:47.041 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:47.183 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 22
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrial trial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 03:56:47.279 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 2648.5106ms
2024-12-18 03:56:51.120 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 03:56:51.127 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:51.129 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:56:51.194 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:56:51.272 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 03:56:51.280 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 03:56:51.645 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 512.6622ms
2024-12-18 03:56:51.648 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:51.795 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 22
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrial trial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 03:56:51.817 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 696.2805ms
2024-12-18 03:56:58.523 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 03:56:58.530 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:58.665 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:56:58.774 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:56:58.798 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 03:56:58.804 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 03:56:59.105 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 399.8029ms
2024-12-18 03:56:59.107 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:56:59.231 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 22
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrial trial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 03:56:59.252 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 728.1006ms
2024-12-18 03:57:04.745 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 03:57:05.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 300.3286ms
2024-12-18 03:57:05.085 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 03:57:05.086 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 03:57:05.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 03:57:05.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 15.2644ms
2024-12-18 03:57:05.133 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 48.6052ms
2024-12-18 03:57:05.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.7731ms
2024-12-18 03:57:05.270 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 03:57:05.300 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.9354ms
2024-12-18 03:57:13.667 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 215
2024-12-18 03:57:13.671 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:57:13.673 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:57:13.698 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 03:57:13.725 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 48.6384ms
2024-12-18 03:57:13.727 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:57:13.729 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 61.8003ms
2024-12-18 03:57:28.662 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 177
2024-12-18 03:57:28.670 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:57:28.673 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:57:28.698 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:57:28.707 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 03:57:28.713 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 03:57:28.998 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 321.4264ms
2024-12-18 03:57:29.000 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:57:29.137 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 22
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrial trial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 03:57:29.157 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 494.5642ms
2024-12-18 03:58:30.953 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 177
2024-12-18 03:58:30.978 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:58:30.980 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:58:31.015 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:58:42.600 +01:00 [ERR] Failed executing DbCommand (33ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 03:58:42.607 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 03:58:42.954 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 11970.6163ms
2024-12-18 03:58:42.957 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 03:58:43.065 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b2a0677c-44c8-45b8-997d-d1b2d6c957a0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 22
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrial trial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 03:58:43.083 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 12129.7347ms
2024-12-18 03:59:25.224 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 03:59:25.296 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 03:59:25.537 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 03:59:25.540 +01:00 [INF] Hosting environment: Development
2024-12-18 03:59:25.541 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 03:59:36.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ClinicalTrials - null null
2024-12-18 03:59:36.238 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 03:59:36.272 +01:00 [INF] Route matched with {action = "GetAll", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:59:36.578 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:59:37.839 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Duration], [c].[EndDate], [c].[Participants], [c].[StartDate], [c].[Status], [c].[Title]
FROM [ClinicalTrials] AS [c]
2024-12-18 03:59:37.956 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1371.5645ms.
2024-12-18 03:59:37.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClinicalTrial, ClinicalTrialAPI.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-18 03:59:37.996 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) in 1716.1587ms
2024-12-18 03:59:37.998 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 03:59:38.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ClinicalTrials - 200 null application/json; charset=utf-8 1844.9954ms
2024-12-18 03:59:49.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ClinicalTrials/FBFF2540-5A0B-4388-A5AB-25A623BF4380 - null null
2024-12-18 03:59:49.189 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetById (ClinicalTrialAPI.Api)'
2024-12-18 03:59:49.197 +01:00 [INF] Route matched with {action = "GetById", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 03:59:49.253 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetById (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 03:59:49.418 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Duration], [c].[EndDate], [c].[Participants], [c].[StartDate], [c].[Status], [c].[Title]
FROM [ClinicalTrials] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-18 03:59:49.424 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetById (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.6294ms.
2024-12-18 03:59:49.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 03:59:49.429 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetById (ClinicalTrialAPI.Api) in 228.2134ms
2024-12-18 03:59:49.431 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetById (ClinicalTrialAPI.Api)'
2024-12-18 03:59:49.434 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ClinicalTrials/FBFF2540-5A0B-4388-A5AB-25A623BF4380 - 200 null application/json; charset=utf-8 250.2759ms
2024-12-18 04:00:26.128 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:00:26.217 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:00:26.421 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:00:26.427 +01:00 [INF] Hosting environment: Development
2024-12-18 04:00:26.430 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:00:38.995 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 177
2024-12-18 04:00:39.054 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:00:39.086 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:00:39.523 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:00:49.696 +01:00 [ERR] Failed executing DbCommand (86ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([Id], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:00:49.780 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81a21895-db2e-4be4-8ad0-99d5ac9178c8
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'TrialId', table 'ClinicalTrialDb.dbo.ClinicalTrials'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81a21895-db2e-4be4-8ad0-99d5ac9178c8
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:08:18.718 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:08:18.765 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2024-12-18 04:08:18.782 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2024-12-18 04:08:18.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2024-12-18 04:08:18.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:08:18.860 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-12-18 04:08:18.865 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-12-18 04:08:18.879 +01:00 [INF] Applying migration '20241218030808_InitialCreate'.
2024-12-18 04:08:18.892 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ClinicalTrials] (
    [TrialId] uniqueidentifier NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [Status] nvarchar(max) NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [Participants] int NOT NULL,
    [Duration] int NOT NULL,
    CONSTRAINT [PK_ClinicalTrials] PRIMARY KEY ([TrialId])
);
2024-12-18 04:08:46.282 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:08:46.330 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2024-12-18 04:08:46.345 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2024-12-18 04:08:46.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2024-12-18 04:08:46.431 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:08:46.432 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-12-18 04:08:46.435 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-12-18 04:08:46.452 +01:00 [INF] Applying migration '20241218030808_InitialCreate'.
2024-12-18 04:08:46.461 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ClinicalTrials] (
    [TrialId] uniqueidentifier NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [Status] nvarchar(max) NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [Participants] int NOT NULL,
    [Duration] int NOT NULL,
    CONSTRAINT [PK_ClinicalTrials] PRIMARY KEY ([TrialId])
);
2024-12-18 04:08:46.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241218030808_InitialCreate', N'9.0.0');
2024-12-18 04:08:46.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2024-12-18 04:09:02.118 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:09:02.163 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:09:02.288 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:09:02.290 +01:00 [INF] Hosting environment: Development
2024-12-18 04:09:02.291 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:09:06.406 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 04:09:06.484 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:09:06.539 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:09:06.929 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:09:06.988 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 443.0496ms
2024-12-18 04:09:06.993 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:09:07.000 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 612.6474ms
2024-12-18 04:09:10.455 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 185
2024-12-18 04:09:10.461 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:09:10.463 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:09:10.476 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:09:10.478 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 12.9018ms
2024-12-18 04:09:10.480 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:09:10.482 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 27.0892ms
2024-12-18 04:19:09.163 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:19:09.217 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2024-12-18 04:19:09.236 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2024-12-18 04:19:09.316 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2024-12-18 04:19:09.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 04:19:09.330 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-12-18 04:19:09.335 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-12-18 04:19:09.352 +01:00 [INF] Applying migration '20241218031859_InitialCreate'.
2024-12-18 04:19:09.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ClinicalTrials] (
    [TrialId] uniqueidentifier NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [Participants] int NOT NULL,
    [Status] nvarchar(max) NOT NULL,
    [Duration] int NOT NULL,
    CONSTRAINT [PK_ClinicalTrials] PRIMARY KEY ([TrialId])
);
2024-12-18 04:19:09.364 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241218031859_InitialCreate', N'9.0.0');
2024-12-18 04:19:09.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2024-12-18 04:20:03.037 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:20:03.087 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:20:03.219 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:20:03.221 +01:00 [INF] Hosting environment: Development
2024-12-18 04:20:03.223 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:20:39.486 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 213
2024-12-18 04:20:39.558 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:20:39.609 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:20:40.150 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:20:40.208 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 590.1514ms
2024-12-18 04:20:40.213 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:20:40.220 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 747.4102ms
2024-12-18 04:20:58.864 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:20:58.869 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:20:58.871 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:20:58.964 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:20:58.967 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 93.0865ms
2024-12-18 04:20:58.968 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:20:58.970 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 106.4893ms
2024-12-18 04:21:20.244 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:21:20.249 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:21:20.251 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:21:20.281 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:21:20.286 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 32.041ms
2024-12-18 04:21:20.288 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:21:20.290 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 47.3863ms
2024-12-18 04:22:27.000 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:22:27.078 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:22:27.276 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:22:27.279 +01:00 [INF] Hosting environment: Development
2024-12-18 04:22:27.282 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:22:34.148 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 213
2024-12-18 04:22:34.204 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:22:34.239 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:22:34.509 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:22:34.549 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 305.0835ms
2024-12-18 04:22:34.553 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:22:34.559 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 423.9172ms
2024-12-18 04:23:22.547 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:23:22.562 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:23:22.576 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrial) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:23:22.707 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-18 04:23:22.710 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 131.0438ms
2024-12-18 04:23:22.713 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:23:22.718 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 400 null application/problem+json; charset=utf-8 170.4426ms
2024-12-18 04:27:56.488 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:27:56.555 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:27:56.941 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:27:56.945 +01:00 [INF] Hosting environment: Development
2024-12-18 04:27:56.947 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:27:58.984 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:27:59.035 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:27:59.070 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:27:59.461 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:28:05.810 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:28:08.153 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8682.8648ms.
2024-12-18 04:28:08.167 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 04:28:08.186 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 9109.8074ms
2024-12-18 04:28:08.192 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:28:08.213 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 9236.5884ms
2024-12-18 04:29:41.600 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:29:41.698 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:29:41.918 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:29:41.921 +01:00 [INF] Hosting environment: Development
2024-12-18 04:29:41.923 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:29:43.799 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:29:43.849 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:29:43.882 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:29:44.268 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:29:49.632 +01:00 [ERR] Failed executing DbCommand (67ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:29:49.685 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d9ccfcc3-abcc-45fa-adaa-96cfea913bcf
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d9ccfcc3-abcc-45fa-adaa-96cfea913bcf
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:29:50.145 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 6256.664ms
2024-12-18 04:29:50.149 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:29:50.286 +01:00 [ERR] An unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d9ccfcc3-abcc-45fa-adaa-96cfea913bcf
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 24
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrialRequest request) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 04:29:50.364 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 6573.5222ms
2024-12-18 04:29:58.014 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:29:58.020 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:29:58.022 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:29:58.076 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:30:00.401 +01:00 [ERR] Failed executing DbCommand (42ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:30:00.408 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d9ccfcc3-abcc-45fa-adaa-96cfea913bcf
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d9ccfcc3-abcc-45fa-adaa-96cfea913bcf
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:30:58.268 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:30:58.350 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:30:58.785 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:30:58.787 +01:00 [INF] Hosting environment: Development
2024-12-18 04:30:58.789 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:31:04.753 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:31:04.817 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:04.877 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:31:05.387 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:31:06.695 +01:00 [ERR] Failed executing DbCommand (56ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:31:06.757 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:31:06.879 +01:00 [ERR] A database update error occurred while adding a clinical trial.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
2024-12-18 04:31:07.207 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 2322.9726ms
2024-12-18 04:31:07.211 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:07.357 +01:00 [ERR] An unhandled exception occurred
System.ApplicationException: An error occurred while adding the clinical trial. Please try again later.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 40
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrialRequest request) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 04:31:07.427 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 2685.2284ms
2024-12-18 04:31:09.940 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:31:09.946 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:09.948 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:31:10.002 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:31:10.094 +01:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:31:10.105 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:31:10.183 +01:00 [ERR] A database update error occurred while adding a clinical trial.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
2024-12-18 04:31:10.472 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 521.4072ms
2024-12-18 04:31:10.474 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:10.591 +01:00 [ERR] An unhandled exception occurred
System.ApplicationException: An error occurred while adding the clinical trial. Please try again later.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 40
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrialRequest request) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 04:31:10.613 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 672.9488ms
2024-12-18 04:31:24.494 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:31:24.499 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:24.500 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:31:24.541 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:31:27.463 +01:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:31:27.471 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:31:30.217 +01:00 [ERR] A database update error occurred while adding a clinical trial.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
2024-12-18 04:31:31.208 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 6705.376ms
2024-12-18 04:31:31.211 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:31:31.351 +01:00 [ERR] An unhandled exception occurred
System.ApplicationException: An error occurred while adding the clinical trial. Please try again later.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:71b0b311-f2d8-42ac-b6eb-bf8eb5d4f265
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 40
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrialRequest request) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 04:31:31.373 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null application/json; charset=utf-8 6878.7572ms
2024-12-18 04:34:52.872 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 04:34:52.948 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 04:34:53.331 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 04:34:53.333 +01:00 [INF] Hosting environment: Development
2024-12-18 04:34:53.334 +01:00 [INF] Content root path: C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api
2024-12-18 04:34:57.413 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:34:57.464 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:34:57.505 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:34:57.882 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:34:59.105 +01:00 [ERR] Failed executing DbCommand (55ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:34:59.154 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9875cebb-8240-451b-9708-375c141b1251
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9875cebb-8240-451b-9708-375c141b1251
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-18 04:34:59.280 +01:00 [ERR] A database update error occurred while adding a clinical trial.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9875cebb-8240-451b-9708-375c141b1251
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
2024-12-18 04:34:59.614 +01:00 [ERR] An error occurred while uploading a clinical trial.
System.ApplicationException: An error occurred while adding the clinical trial. Please try again later.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_ClinicalTrials'. Cannot insert duplicate key in object 'dbo.ClinicalTrials'. The duplicate key value is (d3f9f0d1-2c72-4f34-a5e7-1234567890ab).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9875cebb-8240-451b-9708-375c141b1251
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 35
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.AddAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 40
   at ClinicalTrialAPI.Application.UseCases.AddClinicalTrialUseCase.ExecuteAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\UseCases\AddClinicalTrialUseCase.cs:line 18
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.AddClinicalTrialAsync(ClinicalTrial clinicalTrial) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 24
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload(ClinicalTrialRequest request) in C:\Users\LifeIsGood\source\repos\ClinicalTrialAPI\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 43
2024-12-18 04:34:59.647 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1756.3568ms.
2024-12-18 04:34:59.659 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-18 04:34:59.675 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 2160.0999ms
2024-12-18 04:34:59.679 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:34:59.704 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 500 null text/plain; charset=utf-8 2300.9573ms
2024-12-18 04:35:41.552 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 262
2024-12-18 04:35:41.559 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:35:41.594 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:35:41.651 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:35:41.737 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:35:41.756 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 102.3498ms.
2024-12-18 04:35:41.759 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 04:35:41.768 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 171.0343ms
2024-12-18 04:35:41.771 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:35:41.773 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 220.9891ms
2024-12-18 04:35:54.597 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 264
2024-12-18 04:35:54.603 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:35:54.605 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:35:54.641 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:35:54.662 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 04:35:54.677 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.6308ms.
2024-12-18 04:35:54.679 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 04:35:54.684 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 76.251ms
2024-12-18 04:35:54.685 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 04:35:54.687 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 90.7019ms
2024-12-18 04:36:07.182 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ClinicalTrials?status=Completed - null null
2024-12-18 04:36:07.188 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 04:36:07.197 +01:00 [INF] Route matched with {action = "GetAll", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 04:36:07.228 +01:00 [INF] Executing action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) - Validation state: "Valid"
2024-12-18 04:36:07.682 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__status_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[TrialId], [c].[Duration], [c].[EndDate], [c].[Participants], [c].[StartDate], [c].[Status], [c].[Title]
FROM [ClinicalTrials] AS [c]
WHERE [c].[Status] = @__status_0
2024-12-18 04:36:07.743 +01:00 [INF] Executed action method ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 512.5895ms.
2024-12-18 04:36:07.745 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClinicalTrial, ClinicalTrialAPI.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-18 04:36:07.749 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) in 549.396ms
2024-12-18 04:36:07.751 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 04:36:07.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ClinicalTrials?status=Completed - 200 null application/json; charset=utf-8 572.6245ms
2024-12-18 16:06:19.985 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 16:06:20.020 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 16:06:20.099 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 16:06:20.101 +01:00 [INF] Hosting environment: Development
2024-12-18 16:06:20.102 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 16:07:52.461 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/clinicaltrials - null null
2024-12-18 16:07:52.658 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 16:07:52.679 +01:00 [INF] Route matched with {action = "GetAll", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:07:53.657 +01:00 [ERR] An error occurred using the connection to database 'ClinicalTrialDb' on server 'localhost'.
2024-12-18 16:07:53.685 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:cd59a5cd-bbe7-4dcc-9fcd-b16532e787b9
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:cd59a5cd-bbe7-4dcc-9fcd-b16532e787b9
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-12-18 16:07:53.783 +01:00 [ERR] An error occurred while retrieving all clinical trials.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:cd59a5cd-bbe7-4dcc-9fcd-b16532e787b9
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 21
2024-12-18 16:07:53.947 +01:00 [ERR] An error occurred while retrieving clinical trials with status null.
System.ApplicationException: Unable to retrieve clinical trials. Please try again later.
 ---> System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:cd59a5cd-bbe7-4dcc-9fcd-b16532e787b9
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 21
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 26
   at ClinicalTrialAPI.Application.UseCases.GetAllClinicalTrialsByStatusUseCase.ExecuteAsync(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Application\UseCases\GetAllClinicalTrialsByStatusUseCase.cs:line 17
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.GetAllByStatusAsync(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 34
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
2024-12-18 16:07:53.997 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-18 16:07:54.005 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) in 1322.1417ms
2024-12-18 16:07:54.008 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 16:07:54.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/clinicaltrials - 500 null text/plain; charset=utf-8 1568.9604ms
2024-12-18 16:07:54.104 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/favicon.ico - null null
2024-12-18 16:07:54.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/favicon.ico - 404 0 null 4.1966ms
2024-12-18 16:07:54.114 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7131/favicon.ico, Response status code: 404
2024-12-18 16:07:58.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/swagger - null null
2024-12-18 16:07:58.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/swagger - 404 0 null 8.3056ms
2024-12-18 16:07:58.219 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7131/api/swagger, Response status code: 404
2024-12-18 16:08:01.794 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger - null null
2024-12-18 16:08:01.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger - 301 0 null 6.232ms
2024-12-18 16:08:01.803 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:08:01.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 70.9028ms
2024-12-18 16:08:01.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui.css - null null
2024-12-18 16:08:01.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.css - null null
2024-12-18 16:08:01.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:08:01.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:08:01.928 +01:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-12-18 16:08:01.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui-bundle.js - null null
2024-12-18 16:08:01.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.css - 200 202 text/css 32.0983ms
2024-12-18 16:08:01.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 30.6672ms
2024-12-18 16:08:01.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 45.2563ms
2024-12-18 16:08:01.950 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-12-18 16:08:01.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui-standalone-preset.js - null null
2024-12-18 16:08:01.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:08:01.962 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-12-18 16:08:01.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui.css - 200 152035 text/css 67.745ms
2024-12-18 16:08:01.970 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-12-18 16:08:01.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 73.6364ms
2024-12-18 16:08:01.985 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 84.5286ms
2024-12-18 16:08:02.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.7771ms
2024-12-18 16:08:02.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:08:02.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/favicon-32x32.png - null null
2024-12-18 16:08:02.230 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-12-18 16:08:02.231 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/favicon-32x32.png - 200 628 image/png 6.5808ms
2024-12-18 16:08:02.302 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.3049ms
2024-12-18 16:08:10.581 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ClinicalTrials - null null
2024-12-18 16:08:10.583 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 16:08:10.586 +01:00 [INF] Route matched with {action = "GetAll", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:08:10.619 +01:00 [ERR] An error occurred using the connection to database 'ClinicalTrialDb' on server 'localhost'.
2024-12-18 16:08:10.622 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ClinicalTrialAPI.Infrastructure.Persistence.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:53b07728-6bf3-4815-aed6-51f10e983e20
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:53b07728-6bf3-4815-aed6-51f10e983e20
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-12-18 16:08:10.697 +01:00 [ERR] An error occurred while retrieving all clinical trials.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:53b07728-6bf3-4815-aed6-51f10e983e20
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 21
2024-12-18 16:08:10.864 +01:00 [ERR] An error occurred while retrieving clinical trials with status null.
System.ApplicationException: Unable to retrieve clinical trials. Please try again later.
 ---> System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ClinicalTrialDb" requested by the login. The login failed.
Login failed for user 'CORP\dn185116'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:53b07728-6bf3-4815-aed6-51f10e983e20
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 21
   --- End of inner exception stack trace ---
   at ClinicalTrialRepository.GetAllAsync() in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Infrastructure\Repositories\ClinicalTrialRepository.cs:line 26
   at ClinicalTrialAPI.Application.UseCases.GetAllClinicalTrialsByStatusUseCase.ExecuteAsync(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Application\UseCases\GetAllClinicalTrialsByStatusUseCase.cs:line 17
   at ClinicalTrialAPI.Application.Services.ClinicalTrialService.GetAllByStatusAsync(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Application\Services\ClinicalTrialService.cs:line 34
   at ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll(String status) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api\Controllers\ClinicalTrialsController.cs:line 27
2024-12-18 16:08:10.920 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-18 16:08:10.921 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api) in 331.2591ms
2024-12-18 16:08:10.923 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.GetAll (ClinicalTrialAPI.Api)'
2024-12-18 16:08:10.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ClinicalTrials - 500 null text/plain; charset=utf-8 343.8437ms
2024-12-18 16:09:22.794 +01:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [ClinicalTrialDb];
2024-12-18 16:09:22.888 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ClinicalTrialDb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-12-18 16:09:22.904 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 16:09:22.908 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2024-12-18 16:09:22.925 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2024-12-18 16:09:22.976 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2024-12-18 16:09:22.984 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-12-18 16:09:22.985 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-12-18 16:09:22.991 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-12-18 16:09:23.005 +01:00 [INF] Applying migration '20241218031859_InitialCreate'.
2024-12-18 16:09:23.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ClinicalTrials] (
    [TrialId] uniqueidentifier NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [Participants] int NOT NULL,
    [Status] nvarchar(max) NOT NULL,
    [Duration] int NOT NULL,
    CONSTRAINT [PK_ClinicalTrials] PRIMARY KEY ([TrialId])
);
2024-12-18 16:09:23.018 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241218031859_InitialCreate', N'9.0.0');
2024-12-18 16:09:23.023 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2024-12-18 16:10:11.169 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 16:10:11.209 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 16:10:11.321 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 16:10:11.323 +01:00 [INF] Hosting environment: Development
2024-12-18 16:10:11.325 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 16:10:13.439 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:10:13.689 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 254.9223ms
2024-12-18 16:10:13.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:10:13.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:10:13.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:10:13.724 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 24.6911ms
2024-12-18 16:10:13.731 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 32.8743ms
2024-12-18 16:10:13.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.7438ms
2024-12-18 16:10:13.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:10:13.907 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.0511ms
2024-12-18 16:10:36.886 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 254
2024-12-18 16:11:48.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:11:56.716 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:11:56.725 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 7769.5178ms
2024-12-18 16:11:56.756 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:11:56.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:11:56.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:11:56.775 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 16.19ms
2024-12-18 16:11:56.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:11:56.808 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 48.8307ms
2024-12-18 16:11:56.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.5219ms
2024-12-18 16:11:56.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:11:56.915 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6458ms
2024-12-18 16:11:57.014 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 251.7235ms
2024-12-18 16:11:57.018 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:11:57.051 +01:00 [ERR] An unhandled exception occurred while processing the request.
System.IO.IOException: The client reset the request stream.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ClinicalTrialAPI.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api\Middleware\ErrorHandlingMiddleware.cs:line 19
2024-12-18 16:11:57.100 +01:00 [ERR] Response for error - StatusCode: 500, Message: An internal server error occurred. Please try again later., Path: /api/ClinicalTrials/upload, RequestId: 0HN8VEO97SQON:0000000B
2024-12-18 16:11:57.117 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 499 null application/json; charset=utf-8 80231.1158ms
2024-12-18 16:12:25.282 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 254
2024-12-18 16:12:25.289 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:12:25.290 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:12:26.158 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 16:12:26.191 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 16:12:26.198 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 904.688ms
2024-12-18 16:12:26.200 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:12:26.208 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 927.0038ms
2024-12-18 16:14:24.495 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 16:14:24.545 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 16:14:24.659 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 16:14:24.660 +01:00 [INF] Hosting environment: Development
2024-12-18 16:14:24.661 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 16:14:40.523 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:14:40.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 277.6862ms
2024-12-18 16:14:40.806 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:14:40.808 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:14:40.808 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:14:40.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 10.7188ms
2024-12-18 16:14:40.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 34.5706ms
2024-12-18 16:14:40.866 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.653ms
2024-12-18 16:14:40.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:14:41.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.2751ms
2024-12-18 16:15:04.154 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 257
2024-12-18 16:15:04.168 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:15:04.194 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:15:05.634 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 16:15:05.671 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 16:15:05.682 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 1481.6221ms
2024-12-18 16:15:05.684 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:15:05.695 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 1540.4864ms
2024-12-18 16:15:31.308 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 257
2024-12-18 16:15:31.319 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:15:31.321 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:16:27.382 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 16:16:27.386 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 16:16:27.388 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 56061.8016ms
2024-12-18 16:16:27.389 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:16:27.390 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 56081.9122ms
2024-12-18 16:18:06.749 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - application/json 253
2024-12-18 16:18:06.757 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:18:06.758 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ClinicalTrialAPI.Api.Models.ClinicalTrialRequest) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:18:20.990 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 16:18:20.993 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 16:18:20.994 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 14233.81ms
2024-12-18 16:18:20.995 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:18:20.996 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 14248.386ms
2024-12-18 16:35:31.077 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 16:35:31.123 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 16:35:31.228 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 16:35:31.229 +01:00 [INF] Hosting environment: Development
2024-12-18 16:35:31.230 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 16:35:31.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:35:31.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 247.6848ms
2024-12-18 16:35:31.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:35:31.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:35:31.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 8.298ms
2024-12-18 16:35:31.935 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:35:31.978 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 43.8625ms
2024-12-18 16:35:32.004 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.4404ms
2024-12-18 16:35:32.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:35:32.175 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.9123ms
2024-12-18 16:38:50.618 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - multipart/form-data; boundary=----WebKitFormBoundary0xClXbhmgxFnDuZE 385
2024-12-18 16:38:50.625 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:38:50.646 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(Microsoft.AspNetCore.Http.IFormFile) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:40:19.388 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 16:40:19.443 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 16:40:19.576 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 16:40:19.577 +01:00 [INF] Hosting environment: Development
2024-12-18 16:40:19.578 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 16:40:42.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 16:40:42.495 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 238.9296ms
2024-12-18 16:40:42.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 16:40:42.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 16:40:42.533 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 12.464ms
2024-12-18 16:40:42.535 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 16:40:42.556 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 37.186ms
2024-12-18 16:40:42.599 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.3364ms
2024-12-18 16:40:42.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 16:40:42.766 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.2896ms
2024-12-18 16:40:51.807 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - multipart/form-data; boundary=----WebKitFormBoundarymjpqCWAVJmjCApvo 454
2024-12-18 16:40:51.813 +01:00 [INF] Executing endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:40:51.839 +01:00 [INF] Route matched with {action = "Upload", controller = "ClinicalTrials"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(Microsoft.AspNetCore.Http.IFormFile) on controller ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController (ClinicalTrialAPI.Api).
2024-12-18 16:40:59.682 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClinicalTrials] ([TrialId], [Duration], [EndDate], [Participants], [StartDate], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-12-18 16:41:01.508 +01:00 [INF] Executing OkObjectResult, writing value of type 'ClinicalTrial'.
2024-12-18 16:41:01.523 +01:00 [INF] Executed action ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api) in 9679.7682ms
2024-12-18 16:41:01.527 +01:00 [INF] Executed endpoint 'ClinicalTrialAPI.Api.Controllers.ClinicalTrialsController.Upload (ClinicalTrialAPI.Api)'
2024-12-18 16:41:01.534 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/ClinicalTrials/upload - 200 null application/json; charset=utf-8 9726.7839ms
2024-12-18 19:20:05.249 +01:00 [INF] Now listening on: https://localhost:7131
2024-12-18 19:20:05.300 +01:00 [INF] Now listening on: http://localhost:5090
2024-12-18 19:20:05.417 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-18 19:20:05.419 +01:00 [INF] Hosting environment: Development
2024-12-18 19:20:05.421 +01:00 [INF] Content root path: C:\Users\dn185116\source\repos\ClinicalTrialAPI.Api\ClinicalTrialAPI.Api
2024-12-18 19:20:06.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - null null
2024-12-18 19:20:06.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - 200 null text/html;charset=utf-8 428.8457ms
2024-12-18 19:20:06.731 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.js - null null
2024-12-18 19:20:06.731 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - null null
2024-12-18 19:20:06.731 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - null null
2024-12-18 19:20:06.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.js - 200 null application/javascript;charset=utf-8 13.993ms
2024-12-18 19:20:06.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 45.6642ms
2024-12-18 19:20:06.826 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.7698ms
2024-12-18 19:20:06.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - null null
2024-12-18 19:20:07.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.3219ms
